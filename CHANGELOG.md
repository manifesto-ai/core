# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.1.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [Unreleased]

### Added
- Documentation architecture established (Layer 1-6)
- Constitutional constraints document (CLAUDE.md)
- Agent usage guide (AGENTS.md)
- Security policy (SECURITY.md)
- Contributing guidelines with constitutional requirements
- MEL `onceIntent` contextual keyword with `$mel` guard namespace support
- ADR-008 documenting SDK-first public entry and App package retirement
- Migration tooling: `scripts/migrate/app-to-sdk.mjs` and guide `docs/guides/migrate-app-to-sdk.md`

### Changed
- Moved package documentation from docs/packages/* to packages/*/docs/*
- Updated README.md with correct documentation links
- Intent IR SPEC v0.2.0: ListTerm for plurality, QuantitySpec, PredOp `in`, term-level `ext`, orderBy semantics, and stricter canonicalization (default elision + RFC3339 UTC date normalization)
- Schema hashing clarified as semantic identity (excludes `$`-prefixed platform fields); runtime effective hash treated as internal
- World/App snapshot handling excludes `$mel` alongside `$host` for deterministic hashing
- Learn/Quickstart/App Migration docs updated for `onceIntent` and `$mel` platform namespaces
- Canonical public entrypoint switched to `@manifesto-ai/sdk` (SDK package promoted to `v1.0.0`)
- `@manifesto-ai/app` moved to deprecated compatibility status for R1 (hard removal scheduled for R2)
- Root build/test/lint filters now include SDK/Runtime as first-class packages while keeping App compatibility coverage

## [1.0.0] - 2025-01-01

### Added
- Initial release of Manifesto Core
- @manifesto-ai/core - Pure semantic computation engine
- @manifesto-ai/host - Effect execution runtime
- @manifesto-ai/world - Governance layer with Authority system
- @manifesto-ai/compiler - MEL to DomainSchema compiler

### Core Features
- Deterministic computation with `compute(schema, snapshot, intent)`
- Immutable Snapshot-based state management
- Patch-based state mutations (set, unset, merge)
- Flow DSL for declarative logic
- Expression system for computed values
- Effect system for side effects
- World Protocol for governance and authority
- Trace recording and replay
- Re-entry safe flow guards

### Documentation
- Architecture documentation (ARCHITECTURE.md)
- FAQ (FAQ.md)
- Constitution for LLM agents (CLAUDE.md)
- Per-package SPEC, FDR, GUIDE, and README documents

---

## Versioning Policy

### Major Releases (x.0.0)

Breaking changes, including:
- Public API changes that break existing code
- Schema format changes
- Behavioral changes that violate determinism guarantees

### Minor Releases (1.x.0)

New features, including:
- New public APIs (additive)
- New Flow nodes or Expression operators
- New Effect types
- Performance improvements

### Patch Releases (1.0.x)

Bug fixes and non-breaking changes:
- Bug fixes that preserve API
- Documentation updates
- Internal refactoring
- Security patches

---

## Release Process

Releases are automated using [Release Please](https://github.com/googleapis/release-please):

1. Merge PRs with conventional commit messages
2. Release Please creates a Release PR automatically
3. Review and merge the Release PR
4. GitHub Release is created
5. Packages are published to npm

---

## Conventional Commit Types

See [CONTRIBUTING.md](./CONTRIBUTING.md) for commit message format.

| Type | Changelog Section | Breaking Change |
|------|-------------------|-----------------|
| `feat` | Added | No (unless `!`) |
| `fix` | Fixed | No |
| `perf` | Performance | No |
| `docs` | (Hidden) | No |
| `refactor` | (Hidden) | No |
| `test` | (Hidden) | No |
| `chore` | (Hidden) | No |

---

## Links

- [Repository](https://github.com/manifesto-ai/core)
- [npm Organization](https://www.npmjs.com/org/manifesto-ai)
- [Documentation](./docs/)
- [Contributing](./CONTRIBUTING.md)
- [Security](./SECURITY.md)

---

*This changelog is automatically generated by Release Please.*
